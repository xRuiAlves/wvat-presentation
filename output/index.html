<!DOCTYPE html>
<html>
  <head>
    <title>WVAT</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="lecture.js/lecture.css">
    <link rel="stylesheet" href="lecture.js/print.css" media="print">
    <script src="lecture.js/lecture.js" defer></script>

    <link rel="stylesheet"
          href="//highlightjs.org/static/demo/styles/default.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>

    <link rel="stylesheet" href="themes/default/theme.css" media="screen">
  </head>
  <body>
    <article id="1" class="slide title">
  <header>
  </header>
  <div class="resizer">
    <section class="content">
      <h1>WVAT</h1>
<p>Automating web software version auditing with WVAT</p>

    </section>
  </div>
  <footer>
    <span class="left">WVAT</span>
    <span class="center">Rui Alves</span>
    <span class="right">1/16</span>
  </footer>
</article><article id="2" class="slide whoami">
  <header>
  </header>
  <div class="resizer">
    <section class="content">
      <h1>$ whoami</h1>
<p><img src="foto.jpg" alt="Foto"></p>
<p>My name is <strong>Rui Alves</strong> and I'm a Computer Engineering MSc (4/5 years) student @FEUP</p>
<p>I like software development in general and I play a lot of chess. I do mostly web development and random programming challenges.</p>
<p>You can find my projects at <a href="https://github.com/xRuiAlves">github.com/xRuiAlves</a></p>
<p><strong>DISCLAIMER:</strong> I'm not a security guy!</p>
<p>I'm also part of the 75% of people that are afraid to speak in public <img src="smile.png" alt=""></p>

    </section>
  </div>
  <footer>
    <span class="left">WVAT</span>
    <span class="center">Rui Alves</span>
    <span class="right">2/16</span>
  </footer>
</article><article id="3" class="slide whatis">
  <header>
  </header>
  <div class="resizer">
    <section class="content">
      <h1>What is WVAT</h1>
<p>WVAT (<strong>W</strong>eb <strong>V</strong>ulnerability <strong>A</strong>ssessment <strong>T</strong>ool) is an <strong>open-source</strong> CLI tool to analyse a domain, its subdomains and respective pages, extracting the used technologies to find their <strong>vulnerabilities</strong> in order to cross-reference them with known exploits.</p>
<p><img src="architecture.png" alt="Architecture"></p>
<p>To perform these tasks, various different tools are used! We'll get to that later.</p>

    </section>
  </div>
  <footer>
    <span class="left">WVAT</span>
    <span class="center">Rui Alves</span>
    <span class="right">3/16</span>
  </footer>
</article><article id="4" class="slide project-context">
  <header>
  </header>
  <div class="resizer">
    <section class="content">
      <h1>Some Context</h1>
<p>This project was proposed as part of the Software Development Lab course @MIEIC, FEUP (4th year, 1st semester course).</p>
<p>The proposers were <strong>João Pedro Dias</strong>, <strong>Pedro Sousa</strong> and <strong>Luís Catarino</strong> (special props to <strong>João Pedro Dias</strong>, who helped us a lot during development), security professionals and/or enthusiasts, as they realized that there was no similar aggregated solution for the problems this tool solves.</p>
<p><img src="ldso.png" alt="LDSO Course"></p>
<p><strong>Side Note:</strong> The <a href="https://sigarra.up.pt/feup/pt/ucurr_geral.ficha_uc_view?pv_ocorrencia_id=436457"><strong>LDSO course</strong></a> allows random people to propose projects for students to tackle. You can contact the course's teachers if you have a project to propose (you can talk to me after the presentation for more info)</p>

    </section>
  </div>
  <footer>
    <span class="left">WVAT</span>
    <span class="center">Rui Alves</span>
    <span class="right">4/16</span>
  </footer>
</article><article id="5" class="slide team">
  <header>
  </header>
  <div class="resizer">
    <section class="content">
      <h1>The Team</h1>
<p>The team consisted of <strong>9 people</strong>, all from MIEIC.</p>
<p><img src="team.png" alt="Team"></p>

    </section>
  </div>
  <footer>
    <span class="left">WVAT</span>
    <span class="center">Rui Alves</span>
    <span class="right">5/16</span>
  </footer>
</article><article id="6" class="slide team">
  <header>
  </header>
  <div class="resizer">
    <section class="content">
      <h1>The Team</h1>
<p>The team consisted of <s>9 people</s> <strong>8 people</strong>, all from MIEIC.</p>
<p><img src="team_2.png" alt="Team"></p>

    </section>
  </div>
  <footer>
    <span class="left">WVAT</span>
    <span class="center">Rui Alves</span>
    <span class="right">6/16</span>
  </footer>
</article><article id="7" class="slide team">
  <header>
  </header>
  <div class="resizer">
    <section class="content">
      <h1>The Team</h1>
<p>The team consisted of <s>9 people</s> <s>8 people</s> <strong>7 people</strong>, all from MIEIC.</p>
<p><img src="team_3.png" alt="Team"></p>

    </section>
  </div>
  <footer>
    <span class="left">WVAT</span>
    <span class="center">Rui Alves</span>
    <span class="right">7/16</span>
  </footer>
</article><article id="8" class="slide title hacking">
  <header>
  </header>
  <div class="resizer">
    <section class="content">
      <h1>Hacking time!</h1>
<p><img src="hacking.gif" alt="Hacking"></p>

    </section>
  </div>
  <footer>
    <span class="left">WVAT</span>
    <span class="center">Rui Alves</span>
    <span class="right">8/16</span>
  </footer>
</article><article id="9" class="slide domain-analysis">
  <header>
  </header>
  <div class="resizer">
    <section class="content">
      <h1>Let's analyse my own Domain, <a href="https://ruialves.me">ruialves.me</a></h1>
<pre><code class="hljs">./wvat analyse ruialves.<span class="hljs-keyword">me</span> \
<span class="hljs-comment">--crawlingTimeout 45 \</span>
<span class="hljs-comment">--timeout 300 \</span>
<span class="hljs-comment">--depth 3 \</span>
<span class="hljs-comment">--verbose \</span>
<span class="hljs-comment">--graph \</span>
<span class="hljs-comment">--config wvat-config.json</span>
</code></pre>
<p>If everything goes well, 4 subdomains should be found and analysed! If not, I'll probably think about some good excuse! <img src="upside_down.png" alt=""></p>

    </section>
  </div>
  <footer>
    <span class="left">WVAT</span>
    <span class="center">Rui Alves</span>
    <span class="right">9/16</span>
  </footer>
</article><article id="10" class="slide technologies">
  <header>
  </header>
  <div class="resizer">
    <section class="content">
      <h1>Stuff we used</h1>
<h2>Tool development</h2>
<p>The whole tool was built using <code>NodeJS</code> (sorry, we didn't use Python <img src="sweat_smile.png" alt="">). We also used the <code>oclif</code> CLI framework to make the user interface development easier.</p>
<h2>Crawling</h2>
<p>To crawl the domain subdomains, we used <code>amass</code>, by calling the binary directly and parsing the generated output.</p>
<p>To crawl all subdomains pages, we used <code>js-crawler</code> (a pretty cool node module).</p>
<p>Especially for bigger crawling depths, this process can take a LONG time. For that reason, it's good to allow some sort of caching. We are using the <code>node-persist</code> module to store crawling results, which can be optionally reused.</p>

    </section>
  </div>
  <footer>
    <span class="left">WVAT</span>
    <span class="center">Rui Alves</span>
    <span class="right">10/16</span>
  </footer>
</article><article id="11" class="slide technologies">
  <header>
  </header>
  <div class="resizer">
    <section class="content">
      <h1>Stuff we used</h1>
<h2>Page technology fingerprint</h2>
<p>To find technologies present in a webpage, we used multiple sources and intersected the data (to allow finding more technologies and have better versioning info):</p>
<ul>
<li><code>Wappalyser</code> - the node module version</li>
<li><code>Webtech</code> - using the binary directly and parsing the generated output</li>
<li><code>Toolbar Netcraft</code> - scraping the web page to get results</li>
</ul>
<h2>Searching technologies vulnerabilities</h2>
<p>We're using <a href="https://cve.mitre.org/">cve mitre</a> as vulnerabilities database. Since they allow full database downloading, to make the process faster, the database is downloaded on tool usage and parsed (removing headers plus some minor tweaks), being used as a local cache.</p>
<p>To do a full-text-search-sort-of-thing on the technology, we are using egrep (grep with regex) with some tweaks. This actually provides very good results in little execution time!</p>

    </section>
  </div>
  <footer>
    <span class="left">WVAT</span>
    <span class="center">Rui Alves</span>
    <span class="right">11/16</span>
  </footer>
</article><article id="12" class="slide technologies">
  <header>
  </header>
  <div class="resizer">
    <section class="content">
      <h1>Stuff we used</h1>
<h2>Matching vulnerabilities with exploits</h2>
<p>There are many cool exploit databases out there. In this part we just provide links to the databases that may contain relevant exploits to the found CVEs:</p>
<ul>
<li><a href="https://www.exploit-db.com/">exploit-db.com</a></li>
<li><a href="https://www.rapid7.com/">rapid7.com</a></li>
<li><a href="https://www.circl.lu/">circl.lu</a></li>
</ul>
<h2>Others</h2>
<p>Some minor network analysis is also made to the domain, in order to find location info, DNS information, IPs, <em>et cetera</em>.</p>
<p>The tool's behaviour can be manipulated with a <a href="wvat-config.json">configuration file</a>.</p>

    </section>
  </div>
  <footer>
    <span class="left">WVAT</span>
    <span class="center">Rui Alves</span>
    <span class="right">12/16</span>
  </footer>
</article><article id="13" class="slide ">
  <header>
  </header>
  <div class="resizer">
    <section class="content">
      <h1>Results Reporting</h1>
<p>It's important to provide a good way to visualize the results. For that reason, an <code>HTML Report</code> is built after the tool terminates the analysis.</p>
<p>A report from a sample analysis can be found <a href="report.html">here</a>.</p>
<p>Moreover, to make integrations with other tools easier, we also provide a <code>JSON</code> format alternative (which is much more machine-friendly than html).</p>
<p>We also use an <code>amass</code> option to generate a cool network graph! A network graph page from another sample analysis can be found <a href="network_graph.html">here</a>.</p>

    </section>
  </div>
  <footer>
    <span class="left">WVAT</span>
    <span class="center">Rui Alves</span>
    <span class="right">13/16</span>
  </footer>
</article><article id="14" class="slide list-page">
  <header>
  </header>
  <div class="resizer">
    <section class="content">
      <h1>Main challenges in the development</h1>
<ul>
<li>At first, it was quite <strong>hard to understand the scope of the project</strong> (mainly due to our lack of knowledge) - seriously, we had no idea what we were doing;</li>
<li>This tool (in its current state), to work properly, is <strong>very reliable on a good internet connection</strong>;</li>
<li>There were <strong>many different options to explore</strong>, when it comes to crawling, tech fingerprinting, vulnerabilities and exploits analysis. I mean, a LOT;</li>
<li>Too many features, <strong>too little time</strong>!</li>
<li>This wasn't only a project's development - there was the whole &quot;Curricular Unit&quot; thing.</li>
</ul>

    </section>
  </div>
  <footer>
    <span class="left">WVAT</span>
    <span class="center">Rui Alves</span>
    <span class="right">14/16</span>
  </footer>
</article><article id="15" class="slide list-page-2">
  <header>
  </header>
  <div class="resizer">
    <section class="content">
      <h1>Future work</h1>
<ul>
<li><strong>The tool is not scalable</strong> - currently, there is no thread pool limitation, so it eats memory like cereal;</li>
<li>Due to little time, there is <strong>not enough documentation</strong>, which makes it harder to contribute;</li>
<li>It would be nice if it was possible to integrate more different tools in the various tool's steps, to get better and more meaningful results;</li>
<li>It could be interesting to use different HTTP methods on the found endpoints (especially when analysis API related domains);</li>
<li>Currently, <strong>no authentication or HTTP headers specification is allowed</strong>. Adding this feature would highly improve crawling results;</li>
<li><strong>Not enough Unit Tests</strong> to cover all business logic in the codebase;</li>
<li>Also due to little time, there is actually <strong>repeated code</strong> in some parts of the project, so some refactoring is in order.</li>
</ul>

    </section>
  </div>
  <footer>
    <span class="left">WVAT</span>
    <span class="center">Rui Alves</span>
    <span class="right">15/16</span>
  </footer>
</article><article id="16" class="slide title">
  <header>
  </header>
  <div class="resizer">
    <section class="content">
      <h1>Thank you!</h1>
<p>Do feel free to ask questions!</p>
<p>You may contribute to the tool at</p>
<p><a href="https://github.com/tempto/wvat">github.com/tempto/wvat</a></p>
<p>This presentation is available at</p>
<p><a href="https://wvat-presentation.ruialves.me">wvat-presentation.ruialves.me</a></p>

    </section>
  </div>
  <footer>
    <span class="left">WVAT</span>
    <span class="center">Rui Alves</span>
    <span class="right">16/16</span>
  </footer>
</article>  </body>
</html>
